"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/export/route";
exports.ids = ["app/api/export/route"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fexport%2Froute&page=%2Fapi%2Fexport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fexport%2Froute.js&appDir=C%3A%5CUsers%5CRareMz%5CTest%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRareMz%5CTest&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fexport%2Froute&page=%2Fapi%2Fexport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fexport%2Froute.js&appDir=C%3A%5CUsers%5CRareMz%5CTest%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRareMz%5CTest&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_RareMz_Test_src_app_api_export_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/export/route.js */ \"(rsc)/./src/app/api/export/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/export/route\",\n        pathname: \"/api/export\",\n        filename: \"route\",\n        bundlePath: \"app/api/export/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\RareMz\\\\Test\\\\src\\\\app\\\\api\\\\export\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_RareMz_Test_src_app_api_export_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/export/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZleHBvcnQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmV4cG9ydCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmV4cG9ydCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNSYXJlTXolNUNUZXN0JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNSYXJlTXolNUNUZXN0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNRO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hvcC1saWNlbnNlLXN5c3RlbS8/NjQzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxSYXJlTXpcXFxcVGVzdFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxleHBvcnRcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2V4cG9ydC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2V4cG9ydFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZXhwb3J0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcUmFyZU16XFxcXFRlc3RcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZXhwb3J0XFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9leHBvcnQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fexport%2Froute&page=%2Fapi%2Fexport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fexport%2Froute.js&appDir=C%3A%5CUsers%5CRareMz%5CTest%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRareMz%5CTest&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/export/route.js":
/*!*************************************!*\
  !*** ./src/app/api/export/route.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var iron_session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! iron-session */ \"(rsc)/./node_modules/iron-session/dist/index.js\");\n/* harmony import */ var _lib_session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/session */ \"(rsc)/./src/lib/session.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.js\");\n\n\n\n\n\nasync function GET(request) {\n    const session = await getSession();\n    if (!session.userId) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n    }\n    const { searchParams } = new URL(request.url);\n    const type = searchParams.get(\"type\") || \"licenses\";\n    const format = searchParams.get(\"format\") || \"json\";\n    try {\n        if (type === \"licenses\") {\n            return await exportLicenses(searchParams, format);\n        } else if (type === \"shops\") {\n            return await exportShops(format);\n        } else if (type === \"users\") {\n            if (session.role !== \"admin\") {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    message: \"Admin access required\"\n                }, {\n                    status: 403\n                });\n            }\n            return await exportUsers(format);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Invalid export type\"\n        });\n    } catch (error) {\n        console.error(\"Export API Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function getSession() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return await (0,iron_session__WEBPACK_IMPORTED_MODULE_4__.getIronSession)(cookieStore, _lib_session__WEBPACK_IMPORTED_MODULE_2__.sessionOptions);\n}\n// --- Export Functions ---\nasync function exportLicenses(searchParams, format) {\n    let query = `\r\n        SELECT l.id, l.license_number, s.shop_code, s.shop_name, s.owner_name,\r\n                lt.type_name as license_type, l.issue_date, l.expiry_date, l.status,\r\n                l.notes, l.created_at\r\n        FROM licenses l \r\n        JOIN shops s ON l.shop_id = s.id\r\n        JOIN license_types lt ON l.license_type_id = lt.id\r\n    `;\n    const where = [];\n    const params = [];\n    if (searchParams.get(\"status\")) {\n        where.push(`l.status = $${params.length + 1}`);\n        params.push(searchParams.get(\"status\"));\n    }\n    if (searchParams.get(\"license_type\")) {\n        where.push(`l.license_type_id = $${params.length + 1}`);\n        params.push(searchParams.get(\"license_type\"));\n    }\n    if (searchParams.get(\"expiry_from\")) {\n        where.push(`l.expiry_date >= $${params.length + 1}`);\n        params.push(searchParams.get(\"expiry_from\"));\n    }\n    if (searchParams.get(\"expiry_to\")) {\n        where.push(`l.expiry_date <= $${params.length + 1}`);\n        params.push(searchParams.get(\"expiry_to\"));\n    }\n    if (where.length > 0) {\n        query += \" WHERE \" + where.join(\" AND \");\n    }\n    query += \" ORDER BY l.id DESC\";\n    const data = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.fetchAll)(query, params);\n    if (format === \"csv\") {\n        const headers = {\n            id: \"ID\",\n            license_number: \"เลขที่ใบอนุญาต\",\n            shop_code: \"รหัสร้าน\",\n            shop_name: \"ชื่อร้าน\",\n            owner_name: \"เจ้าของ\",\n            license_type: \"ประเภท\",\n            issue_date: \"วันที่ออก\",\n            expiry_date: \"วันหมดอายุ\",\n            status: \"สถานะ\",\n            notes: \"หมายเหตุ\",\n            created_at: \"วันที่สร้าง\"\n        };\n        return outputCSV(data, \"licenses\", headers);\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data\n    });\n}\nasync function exportShops(format) {\n    const data = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.fetchAll)(`\r\n        SELECT s.id, s.shop_code, s.shop_name, s.owner_name, s.address,\r\n                s.phone, s.email, s.notes, s.created_at,\r\n                (SELECT COUNT(*) FROM licenses l WHERE l.shop_id = s.id) as license_count\r\n        FROM shops s\r\n        ORDER BY s.id DESC\r\n    `);\n    if (format === \"csv\") {\n        const headers = {\n            id: \"ID\",\n            shop_code: \"รหัสร้าน\",\n            shop_name: \"ชื่อร้าน\",\n            owner_name: \"เจ้าของ\",\n            address: \"ที่อยู่\",\n            phone: \"โทรศัพท์\",\n            email: \"อีเมล\",\n            license_count: \"จำนวนใบอนุญาต\",\n            notes: \"หมายเหตุ\",\n            created_at: \"วันที่สร้าง\"\n        };\n        return outputCSV(data, \"shops\", headers);\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data\n    });\n}\nasync function exportUsers(format) {\n    const data = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.fetchAll)(\"SELECT id, username, full_name, role, created_at FROM users ORDER BY id DESC\");\n    if (format === \"csv\") {\n        const headers = {\n            id: \"ID\",\n            username: \"ชื่อผู้ใช้\",\n            full_name: \"ชื่อเต็ม\",\n            role: \"ระดับ\",\n            created_at: \"วันที่สร้าง\"\n        };\n        return outputCSV(data, \"users\", headers);\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data\n    });\n}\nfunction outputCSV(data, filename, headers) {\n    const csvRows = [];\n    // Header row\n    csvRows.push(Object.values(headers).join(\",\"));\n    // Data rows\n    for (const row of data){\n        const values = Object.keys(headers).map((key)=>{\n            const val = row[key];\n            const escaped = val === null || val === undefined ? \"\" : String(val).replace(/\"/g, '\"\"');\n            return `\"${escaped}\"`;\n        });\n        csvRows.push(values.join(\",\"));\n    }\n    const csvContent = \"\\uFEFF\" + csvRows.join(\"\\n\"); // Add BOM\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(csvContent, {\n        status: 200,\n        headers: {\n            \"Content-Type\": \"text/csv; charset=utf-8\",\n            \"Content-Disposition\": `attachment; filename=\"${filename}_${new Date().toISOString().split(\"T\")[0]}.csv\"`\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TXNCO0lBQUs7QUFDbkQ7QUFFQSxTQUFTWSxVQUFVWixJQUFJLEVBQUVtQixRQUFRLEVBQUVsQixPQUFPO0lBQ3RDLE1BQU1tQixVQUFVLEVBQUU7SUFFbEIsYUFBYTtJQUNiQSxRQUFRdkIsSUFBSSxDQUFDd0IsT0FBT0MsTUFBTSxDQUFDckIsU0FBU0YsSUFBSSxDQUFDO0lBRXpDLFlBQVk7SUFDWixLQUFLLE1BQU13QixPQUFPdkIsS0FBTTtRQUNwQixNQUFNc0IsU0FBU0QsT0FBT0csSUFBSSxDQUFDdkIsU0FBU3dCLEdBQUcsQ0FBQ0MsQ0FBQUE7WUFDcEMsTUFBTUMsTUFBTUosR0FBRyxDQUFDRyxJQUFJO1lBQ3BCLE1BQU1FLFVBQVUsUUFBUyxRQUFRRCxRQUFRRSxZQUFhLEtBQUtDLE9BQU9ILEtBQUtJLE9BQU8sQ0FBQyxNQUFNO1lBQ3JGLE9BQU8sQ0FBQyxDQUFDLEVBQUVILFFBQVEsQ0FBQyxDQUFDO1FBQ3pCO1FBQ0FSLFFBQVF2QixJQUFJLENBQUN5QixPQUFPdkIsSUFBSSxDQUFDO0lBQzdCO0lBRUEsTUFBTWlDLGFBQWEsV0FBV1osUUFBUXJCLElBQUksQ0FBQyxPQUFPLFVBQVU7SUFFNUQsT0FBTyxJQUFJaEMscURBQVlBLENBQUNpRSxZQUFZO1FBQ2hDcEQsUUFBUTtRQUNScUIsU0FBUztZQUNMLGdCQUFnQjtZQUNoQix1QkFBdUIsQ0FBQyxzQkFBc0IsRUFBRWtCLFNBQVMsQ0FBQyxFQUFFLElBQUljLE9BQU9DLFdBQVcsR0FBR0MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO1FBQzdHO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Nob3AtbGljZW5zZS1zeXN0ZW0vLi9zcmMvYXBwL2FwaS9leHBvcnQvcm91dGUuanM/MTAwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xyXG5pbXBvcnQgeyBnZXRJcm9uU2Vzc2lvbiB9IGZyb20gJ2lyb24tc2Vzc2lvbic7XHJcbmltcG9ydCB7IHNlc3Npb25PcHRpb25zIH0gZnJvbSAnQC9saWIvc2Vzc2lvbic7XHJcbmltcG9ydCB7IGZldGNoQWxsIH0gZnJvbSAnQC9saWIvZGInO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0KSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbigpO1xyXG4gICAgaWYgKCFzZXNzaW9uLnVzZXJJZCkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIGNvbnN0IHR5cGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCd0eXBlJykgfHwgJ2xpY2Vuc2VzJztcclxuICAgIGNvbnN0IGZvcm1hdCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2Zvcm1hdCcpIHx8ICdqc29uJztcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmICh0eXBlID09PSAnbGljZW5zZXMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBleHBvcnRMaWNlbnNlcyhzZWFyY2hQYXJhbXMsIGZvcm1hdCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnc2hvcHMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBleHBvcnRTaG9wcyhmb3JtYXQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3VzZXJzJykge1xyXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5yb2xlICE9PSAnYWRtaW4nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0FkbWluIGFjY2VzcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgZXhwb3J0VXNlcnMoZm9ybWF0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnSW52YWxpZCBleHBvcnQgdHlwZScgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0V4cG9ydCBBUEkgRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFNlc3Npb24oKSB7XHJcbiAgICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcclxuICAgIHJldHVybiBhd2FpdCBnZXRJcm9uU2Vzc2lvbihjb29raWVTdG9yZSwgc2Vzc2lvbk9wdGlvbnMpO1xyXG59XHJcblxyXG4vLyAtLS0gRXhwb3J0IEZ1bmN0aW9ucyAtLS1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGV4cG9ydExpY2Vuc2VzKHNlYXJjaFBhcmFtcywgZm9ybWF0KSB7XHJcbiAgICBsZXQgcXVlcnkgPSBgXHJcbiAgICAgICAgU0VMRUNUIGwuaWQsIGwubGljZW5zZV9udW1iZXIsIHMuc2hvcF9jb2RlLCBzLnNob3BfbmFtZSwgcy5vd25lcl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgbHQudHlwZV9uYW1lIGFzIGxpY2Vuc2VfdHlwZSwgbC5pc3N1ZV9kYXRlLCBsLmV4cGlyeV9kYXRlLCBsLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgIGwubm90ZXMsIGwuY3JlYXRlZF9hdFxyXG4gICAgICAgIEZST00gbGljZW5zZXMgbCBcclxuICAgICAgICBKT0lOIHNob3BzIHMgT04gbC5zaG9wX2lkID0gcy5pZFxyXG4gICAgICAgIEpPSU4gbGljZW5zZV90eXBlcyBsdCBPTiBsLmxpY2Vuc2VfdHlwZV9pZCA9IGx0LmlkXHJcbiAgICBgO1xyXG5cclxuICAgIGNvbnN0IHdoZXJlID0gW107XHJcbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcclxuXHJcbiAgICBpZiAoc2VhcmNoUGFyYW1zLmdldCgnc3RhdHVzJykpIHtcclxuICAgICAgICB3aGVyZS5wdXNoKGBsLnN0YXR1cyA9ICQke3BhcmFtcy5sZW5ndGggKyAxfWApO1xyXG4gICAgICAgIHBhcmFtcy5wdXNoKHNlYXJjaFBhcmFtcy5nZXQoJ3N0YXR1cycpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VhcmNoUGFyYW1zLmdldCgnbGljZW5zZV90eXBlJykpIHtcclxuICAgICAgICB3aGVyZS5wdXNoKGBsLmxpY2Vuc2VfdHlwZV9pZCA9ICQke3BhcmFtcy5sZW5ndGggKyAxfWApO1xyXG4gICAgICAgIHBhcmFtcy5wdXNoKHNlYXJjaFBhcmFtcy5nZXQoJ2xpY2Vuc2VfdHlwZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VhcmNoUGFyYW1zLmdldCgnZXhwaXJ5X2Zyb20nKSkge1xyXG4gICAgICAgIHdoZXJlLnB1c2goYGwuZXhwaXJ5X2RhdGUgPj0gJCR7cGFyYW1zLmxlbmd0aCArIDF9YCk7XHJcbiAgICAgICAgcGFyYW1zLnB1c2goc2VhcmNoUGFyYW1zLmdldCgnZXhwaXJ5X2Zyb20nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNlYXJjaFBhcmFtcy5nZXQoJ2V4cGlyeV90bycpKSB7XHJcbiAgICAgICAgd2hlcmUucHVzaChgbC5leHBpcnlfZGF0ZSA8PSAkJHtwYXJhbXMubGVuZ3RoICsgMX1gKTtcclxuICAgICAgICBwYXJhbXMucHVzaChzZWFyY2hQYXJhbXMuZ2V0KCdleHBpcnlfdG8nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHdoZXJlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBxdWVyeSArPSAnIFdIRVJFICcgKyB3aGVyZS5qb2luKCcgQU5EICcpO1xyXG4gICAgfVxyXG5cclxuICAgIHF1ZXJ5ICs9ICcgT1JERVIgQlkgbC5pZCBERVNDJztcclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hBbGwocXVlcnksIHBhcmFtcyk7XHJcblxyXG4gICAgaWYgKGZvcm1hdCA9PT0gJ2NzdicpIHtcclxuICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAgICAgICBpZDogJ0lEJyxcclxuICAgICAgICAgICAgbGljZW5zZV9udW1iZXI6ICfguYDguKXguILguJfguLXguYjguYPguJrguK3guJnguLjguI3guLLguJUnLFxyXG4gICAgICAgICAgICBzaG9wX2NvZGU6ICfguKPguKvguLHguKrguKPguYnguLLguJknLFxyXG4gICAgICAgICAgICBzaG9wX25hbWU6ICfguIrguLfguYjguK3guKPguYnguLLguJknLFxyXG4gICAgICAgICAgICBvd25lcl9uYW1lOiAn4LmA4LiI4LmJ4Liy4LiC4Lit4LiHJyxcclxuICAgICAgICAgICAgbGljZW5zZV90eXBlOiAn4Lib4Lij4Liw4LmA4Lig4LiXJyxcclxuICAgICAgICAgICAgaXNzdWVfZGF0ZTogJ+C4p+C4seC4meC4l+C4teC5iOC4reC4reC4gScsXHJcbiAgICAgICAgICAgIGV4cGlyeV9kYXRlOiAn4Lin4Lix4LiZ4Lir4Lih4LiU4Lit4Liy4Lii4Li4JyxcclxuICAgICAgICAgICAgc3RhdHVzOiAn4Liq4LiW4Liy4LiZ4LiwJyxcclxuICAgICAgICAgICAgbm90ZXM6ICfguKvguKHguLLguKLguYDguKvguJXguLgnLFxyXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiAn4Lin4Lix4LiZ4LiX4Li14LmI4Liq4Lij4LmJ4Liy4LiHJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dENTVihkYXRhLCAnbGljZW5zZXMnLCBoZWFkZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhIH0pO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBleHBvcnRTaG9wcyhmb3JtYXQpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaEFsbChgXHJcbiAgICAgICAgU0VMRUNUIHMuaWQsIHMuc2hvcF9jb2RlLCBzLnNob3BfbmFtZSwgcy5vd25lcl9uYW1lLCBzLmFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBzLnBob25lLCBzLmVtYWlsLCBzLm5vdGVzLCBzLmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICAgICAgICAoU0VMRUNUIENPVU5UKCopIEZST00gbGljZW5zZXMgbCBXSEVSRSBsLnNob3BfaWQgPSBzLmlkKSBhcyBsaWNlbnNlX2NvdW50XHJcbiAgICAgICAgRlJPTSBzaG9wcyBzXHJcbiAgICAgICAgT1JERVIgQlkgcy5pZCBERVNDXHJcbiAgICBgKTtcclxuXHJcbiAgICBpZiAoZm9ybWF0ID09PSAnY3N2Jykge1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgIGlkOiAnSUQnLFxyXG4gICAgICAgICAgICBzaG9wX2NvZGU6ICfguKPguKvguLHguKrguKPguYnguLLguJknLFxyXG4gICAgICAgICAgICBzaG9wX25hbWU6ICfguIrguLfguYjguK3guKPguYnguLLguJknLFxyXG4gICAgICAgICAgICBvd25lcl9uYW1lOiAn4LmA4LiI4LmJ4Liy4LiC4Lit4LiHJyxcclxuICAgICAgICAgICAgYWRkcmVzczogJ+C4l+C4teC5iOC4reC4ouC4ueC5iCcsXHJcbiAgICAgICAgICAgIHBob25lOiAn4LmC4LiX4Lij4Lio4Lix4Lie4LiX4LmMJyxcclxuICAgICAgICAgICAgZW1haWw6ICfguK3guLXguYDguKHguKUnLFxyXG4gICAgICAgICAgICBsaWNlbnNlX2NvdW50OiAn4LiI4Liz4LiZ4Lin4LiZ4LmD4Lia4Lit4LiZ4Li44LiN4Liy4LiVJyxcclxuICAgICAgICAgICAgbm90ZXM6ICfguKvguKHguLLguKLguYDguKvguJXguLgnLFxyXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiAn4Lin4Lix4LiZ4LiX4Li14LmI4Liq4Lij4LmJ4Liy4LiHJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dENTVihkYXRhLCAnc2hvcHMnLCBoZWFkZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhIH0pO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBleHBvcnRVc2Vycyhmb3JtYXQpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaEFsbChcIlNFTEVDVCBpZCwgdXNlcm5hbWUsIGZ1bGxfbmFtZSwgcm9sZSwgY3JlYXRlZF9hdCBGUk9NIHVzZXJzIE9SREVSIEJZIGlkIERFU0NcIik7XHJcblxyXG4gICAgaWYgKGZvcm1hdCA9PT0gJ2NzdicpIHtcclxuICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAgICAgICBpZDogJ0lEJyxcclxuICAgICAgICAgICAgdXNlcm5hbWU6ICfguIrguLfguYjguK3guJzguLnguYnguYPguIrguYknLFxyXG4gICAgICAgICAgICBmdWxsX25hbWU6ICfguIrguLfguYjguK3guYDguJXguYfguKEnLFxyXG4gICAgICAgICAgICByb2xlOiAn4Lij4Liw4LiU4Lix4LiaJyxcclxuICAgICAgICAgICAgY3JlYXRlZF9hdDogJ+C4p+C4seC4meC4l+C4teC5iOC4quC4o+C5ieC4suC4hydcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBvdXRwdXRDU1YoZGF0YSwgJ3VzZXJzJywgaGVhZGVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3V0cHV0Q1NWKGRhdGEsIGZpbGVuYW1lLCBoZWFkZXJzKSB7XHJcbiAgICBjb25zdCBjc3ZSb3dzID0gW107XHJcblxyXG4gICAgLy8gSGVhZGVyIHJvd1xyXG4gICAgY3N2Um93cy5wdXNoKE9iamVjdC52YWx1ZXMoaGVhZGVycykuam9pbignLCcpKTtcclxuXHJcbiAgICAvLyBEYXRhIHJvd3NcclxuICAgIGZvciAoY29uc3Qgcm93IG9mIGRhdGEpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3Qua2V5cyhoZWFkZXJzKS5tYXAoa2V5ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdmFsID0gcm93W2tleV07XHJcbiAgICAgICAgICAgIGNvbnN0IGVzY2FwZWQgPSAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSA/ICcnIDogU3RyaW5nKHZhbCkucmVwbGFjZSgvXCIvZywgJ1wiXCInKTtcclxuICAgICAgICAgICAgcmV0dXJuIGBcIiR7ZXNjYXBlZH1cImA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3N2Um93cy5wdXNoKHZhbHVlcy5qb2luKCcsJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNzdkNvbnRlbnQgPSBcIlxcdUZFRkZcIiArIGNzdlJvd3Muam9pbignXFxuJyk7IC8vIEFkZCBCT01cclxuXHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShjc3ZDb250ZW50LCB7XHJcbiAgICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvY3N2OyBjaGFyc2V0PXV0Zi04JyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtRGlzcG9zaXRpb24nOiBgYXR0YWNobWVudDsgZmlsZW5hbWU9XCIke2ZpbGVuYW1lfV8ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfS5jc3ZcImAsXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjb29raWVzIiwiZ2V0SXJvblNlc3Npb24iLCJzZXNzaW9uT3B0aW9ucyIsImZldGNoQWxsIiwiR0VUIiwicmVxdWVzdCIsInNlc3Npb24iLCJnZXRTZXNzaW9uIiwidXNlcklkIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwic3RhdHVzIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwidHlwZSIsImdldCIsImZvcm1hdCIsImV4cG9ydExpY2Vuc2VzIiwiZXhwb3J0U2hvcHMiLCJyb2xlIiwiZXhwb3J0VXNlcnMiLCJlcnJvciIsImNvbnNvbGUiLCJjb29raWVTdG9yZSIsInF1ZXJ5Iiwid2hlcmUiLCJwYXJhbXMiLCJwdXNoIiwibGVuZ3RoIiwiam9pbiIsImRhdGEiLCJoZWFkZXJzIiwiaWQiLCJsaWNlbnNlX251bWJlciIsInNob3BfY29kZSIsInNob3BfbmFtZSIsIm93bmVyX25hbWUiLCJsaWNlbnNlX3R5cGUiLCJpc3N1ZV9kYXRlIiwiZXhwaXJ5X2RhdGUiLCJub3RlcyIsImNyZWF0ZWRfYXQiLCJvdXRwdXRDU1YiLCJhZGRyZXNzIiwicGhvbmUiLCJlbWFpbCIsImxpY2Vuc2VfY291bnQiLCJ1c2VybmFtZSIsImZ1bGxfbmFtZSIsImZpbGVuYW1lIiwiY3N2Um93cyIsIk9iamVjdCIsInZhbHVlcyIsInJvdyIsImtleXMiLCJtYXAiLCJrZXkiLCJ2YWwiLCJlc2NhcGVkIiwidW5kZWZpbmVkIiwiU3RyaW5nIiwicmVwbGFjZSIsImNzdkNvbnRlbnQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/export/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.js":
/*!***********************!*\
  !*** ./src/lib/db.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fetchAll: () => (/* binding */ fetchAll),\n/* harmony export */   fetchOne: () => (/* binding */ fetchOne),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   update: () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @neondatabase/serverless */ \"(rsc)/./node_modules/@neondatabase/serverless/index.mjs\");\n\n// Create Neon SQL client\nconst sql = (0,_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.neon)(process.env.DATABASE_URL);\n// Database helper functions\nasync function query(sqlQuery, params = []) {\n    const results = await sql(sqlQuery, params);\n    return results;\n}\nasync function fetchOne(sqlQuery, params = []) {\n    const results = await query(sqlQuery, params);\n    return results[0] || null;\n}\nasync function fetchAll(sqlQuery, params = []) {\n    return await query(sqlQuery, params);\n}\nasync function insert(table, data) {\n    const columns = Object.keys(data).join(\", \");\n    const placeholders = Object.keys(data).map((_, i)=>`$${i + 1}`).join(\", \");\n    const values = Object.values(data);\n    const sqlQuery = `INSERT INTO ${table} (${columns}) VALUES (${placeholders}) RETURNING id`;\n    const result = await sql(sqlQuery, values);\n    return result[0]?.id;\n}\nasync function update(table, data, where, whereParams = []) {\n    const setClause = Object.keys(data).map((key, i)=>`${key} = $${i + 1}`).join(\", \");\n    const values = [\n        ...Object.values(data),\n        ...whereParams\n    ];\n    const whereOffset = Object.keys(data).length + 1;\n    // Replace ? with $n in where clause\n    let paramIndex = whereOffset;\n    const whereClause = where.replace(/\\?/g, ()=>`$${paramIndex++}`);\n    const sqlQuery = `UPDATE ${table} SET ${setClause} WHERE ${whereClause}`;\n    const result = await sql(sqlQuery, values);\n    return result.length;\n}\nasync function remove(table, where, params = []) {\n    // Replace ? with $n in where clause\n    let paramIndex = 1;\n    const whereClause = where.replace(/\\?/g, ()=>`$${paramIndex++}`);\n    const sqlQuery = `DELETE FROM ${table} WHERE ${whereClause}`;\n    const result = await sql(sqlQuery, params);\n    return result.length;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sql);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWdEO0FBRWhELHlCQUF5QjtBQUN6QixNQUFNQyxNQUFNRCw4REFBSUEsQ0FBQ0UsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0FBRXpDLDRCQUE0QjtBQUNyQixlQUFlQyxNQUFNQyxRQUFRLEVBQUVDLFNBQVMsRUFBRTtJQUM3QyxNQUFNQyxVQUFVLE1BQU1QLElBQUlLLFVBQVVDO0lBQ3BDLE9BQU9DO0FBQ1g7QUFFTyxlQUFlQyxTQUFTSCxRQUFRLEVBQUVDLFNBQVMsRUFBRTtJQUNoRCxNQUFNQyxVQUFVLE1BQU1ILE1BQU1DLFVBQVVDO0lBQ3RDLE9BQU9DLE9BQU8sQ0FBQyxFQUFFLElBQUk7QUFDekI7QUFFTyxlQUFlRSxTQUFTSixRQUFRLEVBQUVDLFNBQVMsRUFBRTtJQUNoRCxPQUFPLE1BQU1GLE1BQU1DLFVBQVVDO0FBQ2pDO0FBRU8sZUFBZUksT0FBT0MsS0FBSyxFQUFFQyxJQUFJO0lBQ3BDLE1BQU1DLFVBQVVDLE9BQU9DLElBQUksQ0FBQ0gsTUFBTUksSUFBSSxDQUFDO0lBQ3ZDLE1BQU1DLGVBQWVILE9BQU9DLElBQUksQ0FBQ0gsTUFBTU0sR0FBRyxDQUFDLENBQUNDLEdBQUdDLElBQU0sQ0FBQyxDQUFDLEVBQUVBLElBQUksRUFBRSxDQUFDLEVBQUVKLElBQUksQ0FBQztJQUN2RSxNQUFNSyxTQUFTUCxPQUFPTyxNQUFNLENBQUNUO0lBRTdCLE1BQU1QLFdBQVcsQ0FBQyxZQUFZLEVBQUVNLE1BQU0sRUFBRSxFQUFFRSxRQUFRLFVBQVUsRUFBRUksYUFBYSxjQUFjLENBQUM7SUFDMUYsTUFBTUssU0FBUyxNQUFNdEIsSUFBSUssVUFBVWdCO0lBQ25DLE9BQU9DLE1BQU0sQ0FBQyxFQUFFLEVBQUVDO0FBQ3RCO0FBRU8sZUFBZUMsT0FBT2IsS0FBSyxFQUFFQyxJQUFJLEVBQUVhLEtBQUssRUFBRUMsY0FBYyxFQUFFO0lBQzdELE1BQU1DLFlBQVliLE9BQU9DLElBQUksQ0FBQ0gsTUFBTU0sR0FBRyxDQUFDLENBQUNVLEtBQUtSLElBQU0sQ0FBQyxFQUFFUSxJQUFJLElBQUksRUFBRVIsSUFBSSxFQUFFLENBQUMsRUFBRUosSUFBSSxDQUFDO0lBQy9FLE1BQU1LLFNBQVM7V0FBSVAsT0FBT08sTUFBTSxDQUFDVDtXQUFVYztLQUFZO0lBQ3ZELE1BQU1HLGNBQWNmLE9BQU9DLElBQUksQ0FBQ0gsTUFBTWtCLE1BQU0sR0FBRztJQUUvQyxvQ0FBb0M7SUFDcEMsSUFBSUMsYUFBYUY7SUFDakIsTUFBTUcsY0FBY1AsTUFBTVEsT0FBTyxDQUFDLE9BQU8sSUFBTSxDQUFDLENBQUMsRUFBRUYsYUFBYSxDQUFDO0lBRWpFLE1BQU0xQixXQUFXLENBQUMsT0FBTyxFQUFFTSxNQUFNLEtBQUssRUFBRWdCLFVBQVUsT0FBTyxFQUFFSyxZQUFZLENBQUM7SUFDeEUsTUFBTVYsU0FBUyxNQUFNdEIsSUFBSUssVUFBVWdCO0lBQ25DLE9BQU9DLE9BQU9RLE1BQU07QUFDeEI7QUFFTyxlQUFlSSxPQUFPdkIsS0FBSyxFQUFFYyxLQUFLLEVBQUVuQixTQUFTLEVBQUU7SUFDbEQsb0NBQW9DO0lBQ3BDLElBQUl5QixhQUFhO0lBQ2pCLE1BQU1DLGNBQWNQLE1BQU1RLE9BQU8sQ0FBQyxPQUFPLElBQU0sQ0FBQyxDQUFDLEVBQUVGLGFBQWEsQ0FBQztJQUVqRSxNQUFNMUIsV0FBVyxDQUFDLFlBQVksRUFBRU0sTUFBTSxPQUFPLEVBQUVxQixZQUFZLENBQUM7SUFDNUQsTUFBTVYsU0FBUyxNQUFNdEIsSUFBSUssVUFBVUM7SUFDbkMsT0FBT2dCLE9BQU9RLE1BQU07QUFDeEI7QUFFQSxpRUFBZTlCLEdBQUdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9wLWxpY2Vuc2Utc3lzdGVtLy4vc3JjL2xpYi9kYi5qcz83ZjlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5lb24gfSBmcm9tICdAbmVvbmRhdGFiYXNlL3NlcnZlcmxlc3MnO1xyXG5cclxuLy8gQ3JlYXRlIE5lb24gU1FMIGNsaWVudFxyXG5jb25zdCBzcWwgPSBuZW9uKHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCk7XHJcblxyXG4vLyBEYXRhYmFzZSBoZWxwZXIgZnVuY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBxdWVyeShzcWxRdWVyeSwgcGFyYW1zID0gW10pIHtcclxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzcWwoc3FsUXVlcnksIHBhcmFtcyk7XHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoT25lKHNxbFF1ZXJ5LCBwYXJhbXMgPSBbXSkge1xyXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHF1ZXJ5KHNxbFF1ZXJ5LCBwYXJhbXMpO1xyXG4gICAgcmV0dXJuIHJlc3VsdHNbMF0gfHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQWxsKHNxbFF1ZXJ5LCBwYXJhbXMgPSBbXSkge1xyXG4gICAgcmV0dXJuIGF3YWl0IHF1ZXJ5KHNxbFF1ZXJ5LCBwYXJhbXMpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0KHRhYmxlLCBkYXRhKSB7XHJcbiAgICBjb25zdCBjb2x1bW5zID0gT2JqZWN0LmtleXMoZGF0YSkuam9pbignLCAnKTtcclxuICAgIGNvbnN0IHBsYWNlaG9sZGVycyA9IE9iamVjdC5rZXlzKGRhdGEpLm1hcCgoXywgaSkgPT4gYCQke2kgKyAxfWApLmpvaW4oJywgJyk7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKGRhdGEpO1xyXG5cclxuICAgIGNvbnN0IHNxbFF1ZXJ5ID0gYElOU0VSVCBJTlRPICR7dGFibGV9ICgke2NvbHVtbnN9KSBWQUxVRVMgKCR7cGxhY2Vob2xkZXJzfSkgUkVUVVJOSU5HIGlkYDtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNxbChzcWxRdWVyeSwgdmFsdWVzKTtcclxuICAgIHJldHVybiByZXN1bHRbMF0/LmlkO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlKHRhYmxlLCBkYXRhLCB3aGVyZSwgd2hlcmVQYXJhbXMgPSBbXSkge1xyXG4gICAgY29uc3Qgc2V0Q2xhdXNlID0gT2JqZWN0LmtleXMoZGF0YSkubWFwKChrZXksIGkpID0+IGAke2tleX0gPSAkJHtpICsgMX1gKS5qb2luKCcsICcpO1xyXG4gICAgY29uc3QgdmFsdWVzID0gWy4uLk9iamVjdC52YWx1ZXMoZGF0YSksIC4uLndoZXJlUGFyYW1zXTtcclxuICAgIGNvbnN0IHdoZXJlT2Zmc2V0ID0gT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoICsgMTtcclxuXHJcbiAgICAvLyBSZXBsYWNlID8gd2l0aCAkbiBpbiB3aGVyZSBjbGF1c2VcclxuICAgIGxldCBwYXJhbUluZGV4ID0gd2hlcmVPZmZzZXQ7XHJcbiAgICBjb25zdCB3aGVyZUNsYXVzZSA9IHdoZXJlLnJlcGxhY2UoL1xcPy9nLCAoKSA9PiBgJCR7cGFyYW1JbmRleCsrfWApO1xyXG5cclxuICAgIGNvbnN0IHNxbFF1ZXJ5ID0gYFVQREFURSAke3RhYmxlfSBTRVQgJHtzZXRDbGF1c2V9IFdIRVJFICR7d2hlcmVDbGF1c2V9YDtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNxbChzcWxRdWVyeSwgdmFsdWVzKTtcclxuICAgIHJldHVybiByZXN1bHQubGVuZ3RoO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHRhYmxlLCB3aGVyZSwgcGFyYW1zID0gW10pIHtcclxuICAgIC8vIFJlcGxhY2UgPyB3aXRoICRuIGluIHdoZXJlIGNsYXVzZVxyXG4gICAgbGV0IHBhcmFtSW5kZXggPSAxO1xyXG4gICAgY29uc3Qgd2hlcmVDbGF1c2UgPSB3aGVyZS5yZXBsYWNlKC9cXD8vZywgKCkgPT4gYCQke3BhcmFtSW5kZXgrK31gKTtcclxuXHJcbiAgICBjb25zdCBzcWxRdWVyeSA9IGBERUxFVEUgRlJPTSAke3RhYmxlfSBXSEVSRSAke3doZXJlQ2xhdXNlfWA7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzcWwoc3FsUXVlcnksIHBhcmFtcyk7XHJcbiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3FsO1xyXG4iXSwibmFtZXMiOlsibmVvbiIsInNxbCIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJxdWVyeSIsInNxbFF1ZXJ5IiwicGFyYW1zIiwicmVzdWx0cyIsImZldGNoT25lIiwiZmV0Y2hBbGwiLCJpbnNlcnQiLCJ0YWJsZSIsImRhdGEiLCJjb2x1bW5zIiwiT2JqZWN0Iiwia2V5cyIsImpvaW4iLCJwbGFjZWhvbGRlcnMiLCJtYXAiLCJfIiwiaSIsInZhbHVlcyIsInJlc3VsdCIsImlkIiwidXBkYXRlIiwid2hlcmUiLCJ3aGVyZVBhcmFtcyIsInNldENsYXVzZSIsImtleSIsIndoZXJlT2Zmc2V0IiwibGVuZ3RoIiwicGFyYW1JbmRleCIsIndoZXJlQ2xhdXNlIiwicmVwbGFjZSIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/session.js":
/*!****************************!*\
  !*** ./src/lib/session.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSessionFromCookies: () => (/* binding */ getSessionFromCookies),\n/* harmony export */   sessionOptions: () => (/* binding */ sessionOptions)\n/* harmony export */ });\n/* harmony import */ var iron_session__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! iron-session */ \"(rsc)/./node_modules/iron-session/dist/index.js\");\n\nconst sessionOptions = {\n    password: process.env.SESSION_SECRET || \"complex_password_at_least_32_characters_long\",\n    cookieName: \"shop_license_session\",\n    cookieOptions: {\n        secure: \"development\" === \"production\",\n        httpOnly: true,\n        sameSite: \"lax\",\n        maxAge: 60 * 30\n    }\n};\nasync function getSessionFromCookies(cookies) {\n    return (0,iron_session__WEBPACK_IMPORTED_MODULE_0__.getIronSession)(cookies, sessionOptions);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Nlc3Npb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLGlCQUFpQjtJQUNuQkMsVUFBVUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjLElBQUk7SUFDeENDLFlBQVk7SUFDWkMsZUFBZTtRQUNYQyxRQUFRTCxrQkFBeUI7UUFDakNNLFVBQVU7UUFDVkMsVUFBVTtRQUNWQyxRQUFRLEtBQUs7SUFDakI7QUFDSjtBQUVPLGVBQWVDLHNCQUFzQkMsT0FBTztJQUMvQyxPQUFPYiw0REFBY0EsQ0FBQ2EsU0FBU1o7QUFDbkM7QUFFMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9wLWxpY2Vuc2Utc3lzdGVtLy4vc3JjL2xpYi9zZXNzaW9uLmpzPzcxMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0SXJvblNlc3Npb24gfSBmcm9tICdpcm9uLXNlc3Npb24nO1xyXG5cclxuY29uc3Qgc2Vzc2lvbk9wdGlvbnMgPSB7XHJcbiAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuU0VTU0lPTl9TRUNSRVQgfHwgJ2NvbXBsZXhfcGFzc3dvcmRfYXRfbGVhc3RfMzJfY2hhcmFjdGVyc19sb25nJyxcclxuICAgIGNvb2tpZU5hbWU6ICdzaG9wX2xpY2Vuc2Vfc2Vzc2lvbicsXHJcbiAgICBjb29raWVPcHRpb25zOiB7XHJcbiAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIGh0dHBPbmx5OiB0cnVlLFxyXG4gICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcclxuICAgICAgICBtYXhBZ2U6IDYwICogMzAsIC8vIDMwIG1pbnV0ZXNcclxuICAgIH0sXHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2Vzc2lvbkZyb21Db29raWVzKGNvb2tpZXMpIHtcclxuICAgIHJldHVybiBnZXRJcm9uU2Vzc2lvbihjb29raWVzLCBzZXNzaW9uT3B0aW9ucyk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IHNlc3Npb25PcHRpb25zIH07XHJcbiJdLCJuYW1lcyI6WyJnZXRJcm9uU2Vzc2lvbiIsInNlc3Npb25PcHRpb25zIiwicGFzc3dvcmQiLCJwcm9jZXNzIiwiZW52IiwiU0VTU0lPTl9TRUNSRVQiLCJjb29raWVOYW1lIiwiY29va2llT3B0aW9ucyIsInNlY3VyZSIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJnZXRTZXNzaW9uRnJvbUNvb2tpZXMiLCJjb29raWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/session.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@neondatabase","vendor-chunks/iron-webcrypto","vendor-chunks/iron-session","vendor-chunks/cookie","vendor-chunks/uncrypto"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fexport%2Froute&page=%2Fapi%2Fexport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fexport%2Froute.js&appDir=C%3A%5CUsers%5CRareMz%5CTest%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRareMz%5CTest&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();